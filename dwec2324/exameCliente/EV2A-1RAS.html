<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Salida Etapa</title>
  
</head>
<body>
  <div id="salida"></div>
  
  <script>
   
    function cuentaSalida(seg) {
      return new Promise(resolve => {
        let timer = setInterval(() => {
          salida.textContent = seg;
          seg -= 1;
          if (seg < 0) {
            salida.textContent = "Salida";
            clearInterval(timer);
            resolve();
          }
        }, 1000);
      });
    }

    
    async function salidaEtapa(dorsal) {
      const cuentaSalidaContainer = document.createElement('div');
      const salida = document.createElement('p');
      cuentaSalidaContainer.appendChild(salida);
      document.getElementById('salida').appendChild(cuentaSalidaContainer);

      salida.textContent = `Dorsal  ${dorsal}`;
      
      await cuentaSalida(3);

      await new Promise(resolve => setTimeout(resolve, 1000));
      salida.textContent = '';
    }

    async function salidaSecuencial() {
      for (let dorsal = 1; dorsal <= 25; dorsal++) {
        await salidaEtapa(dorsal);
      }
    }

    salidaSecuencial()
  </script>
</body>
</html>
